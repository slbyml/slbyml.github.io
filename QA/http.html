<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.51">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <meta name="keywords" content="web前端,前端面试题,HTML5,CSS3,CSS,jQuery,JS,JavaScript,前端,vue,博客,技术文章,静水深流,react,18禁"><meta name="author" content="shaolibao"><meta name="google-site-verification" content="018PP6ptGKwOerKbKgiOwbvtEvXE4z1MbWL70S53pUg"><meta name="baidu-site-verification" content="code-zwVA5PHMGk"><meta name="360-site-verification" content="1e93b200c2a643d4d9569c2315bd46a2"><meta name="sogou_site_verification" content="riHbZyBSqZ"><meta name="msvalidate.01" content="18F16D4763157255069DFE0F9ADEF271"><link rel="shortcut icon" href="/link.jpg" type="image/jpg"><link rel="manifest" href="/manifest.webmanifest"><meta name="theme-color" content="#1e90ff"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="apple-touch-icon" href="/link.jpg"><link rel="mask-icon" href="/link.jpg" color="#1e90ff"><meta name="msapplication-TileImage" content="/link.jpg"><meta name="msapplication-TileColor" content="#000000"><link rel="stylesheet" href="https://slbblog.oss-cn-beijing.aliyuncs.com/s3Layer.css"><script src="https://hm.baidu.com/hm.js?5ebfc1c23339503a9d4d7fae0f2b1f17" defer="true"></script><script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5929253442306992" crossorigin="anonymous" async></script><title>关于http服务端的学习&总结 | 静水深流</title><meta name="description" content="本文包括自己遇到的、文章中看到的、面试中的一些http、服务器问题，包括但不限于浏览器缓存,http状态吗,https等,是一篇总结、学习类文章">
    <link rel="modulepreload" href="/assets/app.fded88d1.js"><link rel="modulepreload" href="/assets/http.html.23976a1a.js"><link rel="modulepreload" href="/assets/http.html.435b0012.js"><link rel="prefetch" href="/assets/index.html.ff05003d.js"><link rel="prefetch" href="/assets/link.html.507bf71d.js"><link rel="prefetch" href="/assets/list.html.ff505004.js"><link rel="prefetch" href="/assets/css.html.7f733be1.js"><link rel="prefetch" href="/assets/free.html.0feb0fcf.js"><link rel="prefetch" href="/assets/js-theory.html.4ebdf728.js"><link rel="prefetch" href="/assets/virtaul.html.91460542.js"><link rel="prefetch" href="/assets/vue.html.36a4848b.js"><link rel="prefetch" href="/assets/webpack.html.81589ebc.js"><link rel="prefetch" href="/assets/cache.html.0cbdab91.js"><link rel="prefetch" href="/assets/diff.html.57dd80cf.js"><link rel="prefetch" href="/assets/easy.html.233613c9.js"><link rel="prefetch" href="/assets/hard.html.9c4848c0.js"><link rel="prefetch" href="/assets/medium.html.3aee136b.js"><link rel="prefetch" href="/assets/sort.html.6f1a08a5.js"><link rel="prefetch" href="/assets/study.html.482502b1.js"><link rel="prefetch" href="/assets/shape.html.2d3e013d.js"><link rel="prefetch" href="/assets/safe.html.d33be7f7.js"><link rel="prefetch" href="/assets/sse.html.154efe35.js"><link rel="prefetch" href="/assets/axios.html.6903b3c6.js"><link rel="prefetch" href="/assets/bit.html.66197f95.js"><link rel="prefetch" href="/assets/clone.html.d5486022.js"><link rel="prefetch" href="/assets/copy.html.55febbab.js"><link rel="prefetch" href="/assets/diff.html.2f433539.js"><link rel="prefetch" href="/assets/domCode.html.17db01a3.js"><link rel="prefetch" href="/assets/extend.html.24791588.js"><link rel="prefetch" href="/assets/flatten.html.02862112.js"><link rel="prefetch" href="/assets/genre.html.13d56231.js"><link rel="prefetch" href="/assets/js.html.3fde62f5.js"><link rel="prefetch" href="/assets/type.html.0c84c9b2.js"><link rel="prefetch" href="/assets/blog.html.127ad1f4.js"><link rel="prefetch" href="/assets/blog_old.html.1c40ee5d.js"><link rel="prefetch" href="/assets/oauth.html.46e5d03a.js"><link rel="prefetch" href="/assets/zoom.html.17d16f08.js"><link rel="prefetch" href="/assets/404.html.50edea1e.js"><link rel="prefetch" href="/assets/index.html.8d91edcc.js"><link rel="prefetch" href="/assets/link.html.3f0e9706.js"><link rel="prefetch" href="/assets/list.html.d90ec71c.js"><link rel="prefetch" href="/assets/css.html.71c1ac2d.js"><link rel="prefetch" href="/assets/free.html.b3bde6ce.js"><link rel="prefetch" href="/assets/js-theory.html.40bc387a.js"><link rel="prefetch" href="/assets/virtaul.html.09b3b2e4.js"><link rel="prefetch" href="/assets/vue.html.0e605c45.js"><link rel="prefetch" href="/assets/webpack.html.a609a935.js"><link rel="prefetch" href="/assets/cache.html.e4f1c686.js"><link rel="prefetch" href="/assets/diff.html.d37ccae3.js"><link rel="prefetch" href="/assets/easy.html.f81ed90e.js"><link rel="prefetch" href="/assets/hard.html.a13d0829.js"><link rel="prefetch" href="/assets/medium.html.8c2f1876.js"><link rel="prefetch" href="/assets/sort.html.7976d748.js"><link rel="prefetch" href="/assets/study.html.519196f5.js"><link rel="prefetch" href="/assets/shape.html.b86a87a0.js"><link rel="prefetch" href="/assets/safe.html.6f870daf.js"><link rel="prefetch" href="/assets/sse.html.0ded2924.js"><link rel="prefetch" href="/assets/axios.html.3521c585.js"><link rel="prefetch" href="/assets/bit.html.7e38910d.js"><link rel="prefetch" href="/assets/clone.html.a3f4f8c8.js"><link rel="prefetch" href="/assets/copy.html.81e8940a.js"><link rel="prefetch" href="/assets/diff.html.8f3d4f3a.js"><link rel="prefetch" href="/assets/domCode.html.5af9dbb4.js"><link rel="prefetch" href="/assets/extend.html.08b6491f.js"><link rel="prefetch" href="/assets/flatten.html.2dcb730c.js"><link rel="prefetch" href="/assets/genre.html.c2f4dbdd.js"><link rel="prefetch" href="/assets/js.html.6f50e308.js"><link rel="prefetch" href="/assets/type.html.95a7c0e6.js"><link rel="prefetch" href="/assets/blog.html.6f407294.js"><link rel="prefetch" href="/assets/blog_old.html.970a710d.js"><link rel="prefetch" href="/assets/oauth.html.21dac46c.js"><link rel="prefetch" href="/assets/zoom.html.3a97e1d1.js"><link rel="prefetch" href="/assets/404.html.22449b3e.js"><link rel="prefetch" href="/assets/index.6fc1ed56.js"><link rel="prefetch" href="/assets/giscus.9d85e3c1.js"><link rel="prefetch" href="/assets/s3Layer.umd.min.9cf41daf.js">
    <link rel="stylesheet" href="/assets/style.815e0284.css">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!----><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name">静水深流</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/list.html" class="" aria-label="文章"><!--[--><!--]--> 文章 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://slbyml.github.io/jsLibrary/" rel="noopener noreferrer" target="_blank" aria-label="demo"><!--[--><!--]--> demo <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/slbyml" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/list.html" class="" aria-label="文章"><!--[--><!--]--> 文章 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://slbyml.github.io/jsLibrary/" rel="noopener noreferrer" target="_blank" aria-label="demo"><!--[--><!--]--> demo <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/slbyml" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">关于http服务端的学习&amp;总结 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/QA/http.html#async和defer的区别" class="router-link-active router-link-exact-active sidebar-item" aria-label="async和defer的区别"><!--[--><!--]--> async和defer的区别 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/QA/http.html#prefetch和preload和preconnet的区别" class="router-link-active router-link-exact-active sidebar-item" aria-label="Prefetch和Preload和preconnet的区别"><!--[--><!--]--> Prefetch和Preload和preconnet的区别 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/QA/http.html#http状态码及分类" class="router-link-active router-link-exact-active sidebar-item" aria-label="http状态码及分类"><!--[--><!--]--> http状态码及分类 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/QA/http.html#从浏览器地址栏输入url到显示页面的步骤" class="router-link-active router-link-exact-active sidebar-item" aria-label="从浏览器地址栏输入url到显示页面的步骤"><!--[--><!--]--> 从浏览器地址栏输入url到显示页面的步骤 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/QA/http.html#cdn原理" class="router-link-active router-link-exact-active sidebar-item" aria-label="cdn原理"><!--[--><!--]--> cdn原理 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/QA/http.html#跨域方式" class="router-link-active router-link-exact-active sidebar-item" aria-label="跨域方式"><!--[--><!--]--> 跨域方式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/QA/http.html#为什么form表单提交没有跨域问题-但ajax提交有跨域问题" class="router-link-active router-link-exact-active sidebar-item" aria-label="为什么form表单提交没有跨域问题，但ajax提交有跨域问题"><!--[--><!--]--> 为什么form表单提交没有跨域问题，但ajax提交有跨域问题 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/QA/http.html#浏览器缓存技术" class="router-link-active router-link-exact-active sidebar-item" aria-label="浏览器缓存技术"><!--[--><!--]--> 浏览器缓存技术 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/QA/http.html#http介绍" class="router-link-active router-link-exact-active sidebar-item" aria-label="http介绍"><!--[--><!--]--> http介绍 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/QA/http.html#http-各版本协议区别" class="router-link-active router-link-exact-active sidebar-item" aria-label="http 各版本协议区别"><!--[--><!--]--> http 各版本协议区别 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/QA/http.html#https如何保证密钥传输的安全性-tls握手过程" class="router-link-active router-link-exact-active sidebar-item" aria-label="https如何保证密钥传输的安全性\TLS握手过程？"><!--[--><!--]--> https如何保证密钥传输的安全性\TLS握手过程？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/QA/http.html#https如何保证证书的可信任和安全" class="router-link-active router-link-exact-active sidebar-item" aria-label="HTTPS如何保证证书的可信任和安全？"><!--[--><!--]--> HTTPS如何保证证书的可信任和安全？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/QA/http.html#https为什么比http更安全" class="router-link-active router-link-exact-active sidebar-item" aria-label="https为什么比http更安全?"><!--[--><!--]--> https为什么比http更安全? <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/QA/http.html#http-与-https-的区别" class="router-link-active router-link-exact-active sidebar-item" aria-label="HTTP 与 HTTPS 的区别"><!--[--><!--]--> HTTP 与 HTTPS 的区别 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/QA/http.html#http2-0与websocket的关系是怎么样的" class="router-link-active router-link-exact-active sidebar-item" aria-label="http2.0与WebSocket的关系是怎么样的？"><!--[--><!--]--> http2.0与WebSocket的关系是怎么样的？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/QA/http.html#tcp协议和udp协议的区别" class="router-link-active router-link-exact-active sidebar-item" aria-label="TCP协议和UDP协议的区别"><!--[--><!--]--> TCP协议和UDP协议的区别 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/QA/http.html#xss和csrf攻击" class="router-link-active router-link-exact-active sidebar-item" aria-label="XSS和CSRF攻击"><!--[--><!--]--> XSS和CSRF攻击 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/QA/http.html#中间人-mitm-攻击" class="router-link-active router-link-exact-active sidebar-item" aria-label="中间人（MITM）攻击"><!--[--><!--]--> 中间人（MITM）攻击 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/QA/http.html#为什么埋点发送数据一般用1-1的gif图片" class="router-link-active router-link-exact-active sidebar-item" aria-label="为什么埋点发送数据一般用1*1的GIF图片"><!--[--><!--]--> 为什么埋点发送数据一般用1*1的GIF图片 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/QA/http.html#get-post区别" class="router-link-active router-link-exact-active sidebar-item" aria-label="GET&amp;POST区别"><!--[--><!--]--> GET&amp;POST区别 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/QA/http.html#为什么会有options请求" class="router-link-active router-link-exact-active sidebar-item" aria-label="为什么会有options请求"><!--[--><!--]--> 为什么会有options请求 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="关于http服务端的学习-总结" tabindex="-1"><a class="header-anchor" href="#关于http服务端的学习-总结" aria-hidden="true">#</a> 关于http服务端的学习&amp;总结</h1><h2 id="async和defer的区别" tabindex="-1"><a class="header-anchor" href="#async和defer的区别" aria-hidden="true">#</a> async和defer的区别</h2><p><img src="https://slbblog.oss-cn-beijing.aliyuncs.com/js/async.png" alt="区别"></p><ol><li>defer（延迟执行）属性却一定会按它们在页面上的顺序依次执行。载入 JavaScript 文件时不阻塞 HTML 的解析，执行阶段被放到 HTML 标签解析完成之后</li><li>async（异步下载）属性的Script会在下载完成后即可执行，在 DOMContentLoaded 触发之前或之后执行，但一定在 load 触发之前执行</li></ol><h2 id="prefetch和preload和preconnet的区别" tabindex="-1"><a class="header-anchor" href="#prefetch和preload和preconnet的区别" aria-hidden="true">#</a> Prefetch和Preload和preconnet的区别</h2><ul><li>Preload：告诉浏览器预先请求<code>当前页</code>需要的资源，从而提高这些资源的请求优先级<br> 对于跨域资源需要加上<code>crossorigin</code>,否则会出现加载两次的问题<div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>preload<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/path/to/style.css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">as</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>style<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li>preconnet 先建立一个链接(包括：DNS查找，TCP三次握手和TLS协商)减少真正连接是的消耗<div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>preconnect<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>//test.com<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>preconnect<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>//cdn.test.com<span class="token punctuation">&quot;</span></span> <span class="token attr-name">crossorigin</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li>Prefetch：告诉浏览器用户将来可能在<code>其他页面（非本页面）</code>可能使用到的资源，那么浏览器会在空闲时，就去预先加载这些资源放在http缓存内，还会解执行页面，进行预渲染,最常见的<code>dns-prefetch</code><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dns-prefetch<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>//test.com<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prerender<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>//example.com/next-page.html<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="http状态码及分类" tabindex="-1"><a class="header-anchor" href="#http状态码及分类" aria-hidden="true">#</a> http状态码及分类</h2><ul><li>1xx：初始化（http2.0已经么有1xx了{websocket例外}</li><li>2xx：客户端成功（200：**成功；202：接受；204：没有返回信息，页面不需要更改）</li><li>3xx：重定向缓存（301：永久重定向；302临时转移； （303：永久重定向；）307：**临时重定向；304：缓存）</li><li>4xx：客户端失败（400：参数错误；401：未认证登陆，无权限访问；403：服务器已经得到请求,但禁止访问；404：未找到；417：发送资源过大）</li><li>5xx：服务器端失败（500：**服务器内部错误；503：连接数过多，服务器超负载；504：网关超时）</li></ul><h2 id="从浏览器地址栏输入url到显示页面的步骤" tabindex="-1"><a class="header-anchor" href="#从浏览器地址栏输入url到显示页面的步骤" aria-hidden="true">#</a> 从浏览器地址栏输入url到显示页面的步骤</h2><p><a href="https://github.com/skyline75489/what-happens-when-zh_CN" target="_blank" rel="noopener noreferrer">超详细讲解<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>、<a href="https://mp.weixin.qq.com/s/clVnq9tXbSUC1U1kCnA8YA" target="_blank" rel="noopener noreferrer">参考2<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>、<a href="https://mp.weixin.qq.com/s/2K_ZscEgoAIRrze03Bik6A" target="_blank" rel="noopener noreferrer">参考3<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>、<a href="https://juejin.cn/post/6930890886616350734?utm_source=gold_browser_extension" target="_blank" rel="noopener noreferrer">参考4<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><ol><li>对url进行解析，确定web服务器及文件路径，然后根据这些信息生成http请求</li><li>浏览器网络进程查看是否有本地缓存，并且缓存是否新鲜</li><li>DNS 查询 <ul><li>去浏览器端拿dns缓存，操作系统自身的DNS缓存,去hosts文件中拿该域名对应的IP地址，去路由器中拿映射，如果还没有就去dns服务器拿ip(域名解析的过程)。</li><li>拿到ip就去服务器拿资源，服务器中如果有重定向，那就去重定向的网址再次重复前面的步骤。</li></ul></li><li>客户端发送数据前会先进行TCP连接(三次握手)<code>三次的目的：为了防止已失效的连接请求报文段突然又传送到了服务端，因而产生错误，所以服务器需要确认客户端是否收到了第二次握手；防止服务器等待造成资源浪费</code><ul><li>第一次由客户端发起，告诉浏览器即将发送请求</li><li>第二次请求由服务端发起，告诉浏览器准备好接受数据，请发送数据</li><li>第三次由客户端发起，告诉浏览器这就发送数据<br><img src="https://slbblog.oss-cn-beijing.aliyuncs.com/http/woshou" alt="握手"></li></ul></li><li>发送http请求，服务器处理完成后返回数据，浏览器接收文件（HTML、JS、CSS、图象等）；</li><li>拿到html文件后解析解析加载资源，html里面的东西从上到下依次解析，生成dom树状数据结构。</li><li>遇到css就添加为树状结构添加css属性，遇到js就执行JavaScript代码。</li><li>断开链接，进行四次TCP回收；<code>四次的目的是：服务队没收到关闭请求可能还有需要处理的没法立马关闭，所以只能先发送ack报文进行确定，等处理完了再发送FIN进行关闭</code><ul><li>第一次由浏览器发起的，告诉服务端请求报文发送完了，可以关闭</li><li>第二次由服务器发起的，告诉浏览器，请求报文接受完了，并表示同意关闭请求</li><li>第三次由服务器发起的，告诉浏览器，响应报文发送完了，你准备关闭吧</li><li>第四次由浏览器发起的，告诉服务器，我响应报文接受完了，你直接关闭吧<br><img src="https://slbblog.oss-cn-beijing.aliyuncs.com/http/huishou" alt="挥手"></li></ul></li></ol><h2 id="cdn原理" tabindex="-1"><a class="header-anchor" href="#cdn原理" aria-hidden="true">#</a> cdn原理</h2><ul><li>用户在浏览器中输入要访问的域名;</li><li>向本地DNS服务器请求对该域名的解析</li><li>浏览器向域名解析服务器发出<code>解析请求</code>，由于CDN 对域名解析过程进行了调整，所以用户端一般得到的是该域名对应的 <code>CNAME 记录</code>，此时浏览器需要<code>再次对获得的 CNAME 域名进行解析</code>才能得到缓存服务器实际的IP 地址。 注：在此过程中，全局负载均衡DNS 解析服务器会根据用户端的源IP 地址，如地理位置(北京还是上海)、接入网类型(电信还是网通)将用户的访问请求定位到离用户路由最短、位置最近、负载最轻的Cache 节点(缓存服务器)上，实现<code>就近定位</code>。定位优先原则可按位置、可按路由、也可按负载等。</li><li>再次解析后浏览器得到<code>该域名CDN 缓存服务器</code>的实际IP 地址，向缓存服务器发出访问请求;</li><li>缓存服务器根据浏览器提供的域名，通过Cache 内部专用DNS 解析得到此<code>域名源服务器的真实IP 地址</code>，再由缓存服务器向此真实IP 地址提交访问请求;</li><li>缓存服务器从真实IP 地址得到内容后，一方面<code>在本地进行保存</code>，以备以后使用，同时把得到的数据<code>发送到客户端浏览器</code>，完成访问的响应过程;</li><li>用户端得到由缓存服务器传回的数据后显示出来，至此完成整个域名访问过程。<br><a href="https://zhuanlan.zhihu.com/p/44966787" target="_blank" rel="noopener noreferrer">参考<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><h2 id="跨域方式" tabindex="-1"><a class="header-anchor" href="#跨域方式" aria-hidden="true">#</a> 跨域方式</h2><ol><li>JSONP（<a href="/QA/js.html#jsonp%E7%AD%89%E5%AE%9E%E7%8E%B0" class="">代码实现</a>）</li><li>CORS(通过更改Access-Control-Allow-Origin)</li><li>document.domain + iframe</li><li>location.hash</li><li>window.name + iframe</li><li>postMessage</li><li>nginx代理跨</li><li>WebSocket<br><a href="https://juejin.im/post/5c9c38e2e51d452db7007f66?utm_source=gold_browser_extension" target="_blank" rel="noopener noreferrer">参考1<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>、<a href="https://segmentfault.com/a/1190000011145364" target="_blank" rel="noopener noreferrer">参考2<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ol><h2 id="为什么form表单提交没有跨域问题-但ajax提交有跨域问题" tabindex="-1"><a class="header-anchor" href="#为什么form表单提交没有跨域问题-但ajax提交有跨域问题" aria-hidden="true">#</a> 为什么form表单提交没有跨域问题，但ajax提交有跨域问题</h2><ul><li>ajax跨域是浏览器处于对用户安全和隐私的一种保护措施，可以防止其它网站拿到用户的cookie，🔔：ajax提交跨域请求时候, 请求一样会发到服务器, 只是服务器的响应被浏览器拦截</li><li>form表单提交后会刷新页面不会将结果返回给js所以相对安全；同时form也没发主动携带cookie</li></ul><h2 id="浏览器缓存技术" tabindex="-1"><a class="header-anchor" href="#浏览器缓存技术" aria-hidden="true">#</a> 浏览器缓存技术</h2><p>浏览器中缓存可分为<code>强缓存</code>和<code>协商缓存</code>,第一次浏览器请求资源时会，将<code>资源连同response header一起缓存下来</code>，再次去请求资源时，首先从缓存中拿出资源的response header，判断是否命中<code>强缓存</code>，如果命中则<code>直接从缓存中读取资源，不会发送请求到服务器</code>，如果没有命中，则发送请求到服务器判断是否命中<code>协商缓存</code>,如果命中则将<code>请求返回，但是不会返回这个资源的数据</code>，而是告诉浏览器从缓存中加载资源;区别： <code>强缓存不会发送请求到服务器</code>。</p><ul><li>强缓存： 利用<code>Expires</code>或者<code>Cache-Control</code>这两个http response header实现 <ul><li>Expires：表示资源过期时间的header,是一个服务器返回的绝对时间，但是当<code>服务器时间与客户端时间相差较大时，缓存管理容易出现问题</code></li><li>Cache-Control：是一个相对时间，用数值表示，以秒为单位；如：Cache-Control:max-age=311230000；还可以为 Cache-Control 指定 <code>public</code>(允许所有服务器缓存该资源)或 <code>private</code>(禁止中间服务器如代理服务器缓存资源) 标记</li><li>当两种缓存同时启动是<code>Cache-Control优先级高于Expires</code></li></ul></li><li>协商缓存： 利用的是<code>Last-Modified，If-Modified-Since</code>和<code>ETag、If-None-Match</code>这两对Header来管理的,命中协商缓存是返回状态码<code>304 Not Modified</code><ul><li><code>Last-Modified，If-Modified-Since</code>：是根据服务器时间返回的Header,如果资源更改后，有更改回去了，这是依然会更新</li><li><code>ETag、If-None-Match</code>：是服务器根据当前请求的资源生成的一个唯一标识 <img src="https://slbblog.oss-cn-beijing.aliyuncs.com/http/cache" alt="cache"><br><a href="https://juejin.im/post/5b9346dcf265da0aac6fbe57#heading-3" target="_blank" rel="noopener noreferrer">参考<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a><br><img src="https://slbblog.oss-cn-beijing.aliyuncs.com/js/cache" alt="流程"></li></ul></li></ul><h2 id="http介绍" tabindex="-1"><a class="header-anchor" href="#http介绍" aria-hidden="true">#</a> http介绍</h2><p>HTTP:超文本传输协议；是网络协议一个标准；特性：无状态，默认端口是80</p><h2 id="http-各版本协议区别" tabindex="-1"><a class="header-anchor" href="#http-各版本协议区别" aria-hidden="true">#</a> http 各版本协议区别</h2><ul><li>1.0 协议缺陷: <ul><li>无法复用链接，<code>完成即断开</code>，重新慢启动和 TCP 3次握手</li><li>head of line blocking: <code>线头阻塞</code>，导致请求之间互相影响</li></ul></li><li>1.1 改进 <ul><li><code>长连接</code>(默认 keep-alive)，复用</li><li>新增功能:<code>断点续传</code>、<code>身份认证</code>、<code>状态管理</code>、<code>cache 缓存</code></li></ul></li><li>2.0优化 <ul><li>多路复用，就是在一个 TCP 连接中可以存在多条流。换句话说，也就是可以发送多个请求，它解决了http1.X的每次请求都需要建立http连接；http1.X开启了&quot;keep-alive&quot;也会有<code>串行文本传输</code>和<code>最多连接数限制</code>有问题；</li><li>http2采用二进制格式进行传输比http1.X的文本传输更高效；</li><li>header压缩；解决了http1.X无状态特性--带来的巨大HTTP头部</li><li>服务端推送 <a href="https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/14" target="_blank" rel="noopener noreferrer">参考<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li></ul><h2 id="https如何保证密钥传输的安全性-tls握手过程" tabindex="-1"><a class="header-anchor" href="#https如何保证密钥传输的安全性-tls握手过程" aria-hidden="true">#</a> https如何保证密钥传输的安全性\TLS握手过程？</h2><ul><li>客户端像服务器端发送客户端生成的<code>随机数random1以及支持的加密方式</code></li><li>服务端接收到客户端发起的请求，会将<code>网站信息(企业、网站等各种信息和公钥)</code>+<code>一串生成的随机数</code>加密后，通过<code>第三方机构的私钥</code>再次加密，生成<code>数字签名</code></li><li>客户端通过<code>第三方机构的公钥进行解密</code>(本地已内置)并验证；然后得到服务器的公钥，随后客户端<code>生成新的随机数(random3)</code>，利用解密的公钥加密后传输给服务器</li><li>服务器用自己的私钥解密这个信息得到<code>第三个随机数</code></li><li>至此双方通过约定的加密方式,使用前面生成的三个随机数(random1+random2+random3) 生成<code>对话密钥</code> 用来加密接下来的对话内容 <a href="https://mp.weixin.qq.com/s/xAXiY_7Lvog-Xrq6qEokUQ" target="_blank" rel="noopener noreferrer">参考1<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>、<a href="https://juejin.im/post/5b0274ac6fb9a07aaa118f49#heading-7" target="_blank" rel="noopener noreferrer">参考2<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><h2 id="https如何保证证书的可信任和安全" tabindex="-1"><a class="header-anchor" href="#https如何保证证书的可信任和安全" aria-hidden="true">#</a> HTTPS如何保证证书的可信任和安全？</h2><ul><li>证书是否在有效期内</li><li>证书是否被吊销</li><li>是否是由上级CA签发<br><a href="https://www.zhihu.com/question/37370216" target="_blank" rel="noopener noreferrer">参考<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><h2 id="https为什么比http更安全" tabindex="-1"><a class="header-anchor" href="#https为什么比http更安全" aria-hidden="true">#</a> https为什么比http更安全?</h2><p>简单来说，https是http的安全版，是在http基础上加上了SSL加密层（由SSL和TCP进行通信），并对传输数据进行加密；是非对称加密与对称加密双剑合璧，使用非对称加密算法传递用于对称加密算法的密钥，然后使用对称加密算法进行信息传递</p><h2 id="http-与-https-的区别" tabindex="-1"><a class="header-anchor" href="#http-与-https-的区别" aria-hidden="true">#</a> HTTP 与 HTTPS 的区别</h2><ul><li>HTTP 是明文传输，HTTPS 通过 SSL\TLS 进行了加密所以更安全</li><li>HTTP 的端口号是 80，HTTPS 是 443</li><li>HTTPS 需要到 CA 申请证书，一般免费证书很少，需要交费</li><li>HTTP 的连接很简单，是无状态的；HTTPS 协议是由 SSL+HTTP 协议构建的可进行加密传输、身份认证的网络协议，比 HTTP 协议安全。</li></ul><h2 id="http2-0与websocket的关系是怎么样的" tabindex="-1"><a class="header-anchor" href="#http2-0与websocket的关系是怎么样的" aria-hidden="true">#</a> http2.0与WebSocket的关系是怎么样的？</h2><p><code>WebSocket</code>是基于HTTP1.1的协议，可以简单理解为创建了一条TCP连接;而<code>HTTP2.0</code>则是对HTML、CSS等JS资源的传输方式进行了优化</p><h2 id="tcp协议和udp协议的区别" tabindex="-1"><a class="header-anchor" href="#tcp协议和udp协议的区别" aria-hidden="true">#</a> TCP协议和UDP协议的区别</h2><p>TCP:是面向连接的协议，也就是说，在收发数据前，必须和对方建立可靠的连接。 一个TCP连接必须要经过三次“对话”才能建立起来<br> UDP:是一个非连接的协议，传输数据之前源端和终端不建立连接， 当它想传送时就简单地去抓取来自应用程序的数据，并尽可能快地把它扔到网络上。 在发送端，UDP传送数据的速度仅仅是受应用程序生成数据的速度、 计算机的能力和传输带宽的限制； 在接收端，UDP把每个消息段放在队列中，应用程序每次从队列中读一个消息段</p><blockquote><p>1、基于连接与无连接；<br> 2、对系统资源的要求（TCP较多，UDP少）；<br> 3、UDP程序结构较简单；<br> 4、流模式与数据报模式 ；<br> 5、TCP保证数据正确性，UDP可能丢包(基于 UDP 的 QUIC 协议 可以实现类似 TCP 的可靠性传输)；<br> 6、TCP保证数据顺序，UDP不保证。<br> 应用场景: TCP适用于文本传输,收发邮件等 UDP适用于即时通信、在线视频、网络电话等,也适用于服务系统内部数据传输,因为内部数据交互丢包率低,及时丢包最多也就是操作无效</p></blockquote><p><img src="https://slbblog.oss-cn-beijing.aliyuncs.com/http/tcp.png?versionId=CAEQPhiBgID1h5q.xRciIGQxNGU5OTdjYjc2NzQ5ZmZhNTAxNzA0MGNiMTM3NWQ2" alt="TCP&amp;UDP区别"></p><h2 id="xss和csrf攻击" tabindex="-1"><a class="header-anchor" href="#xss和csrf攻击" aria-hidden="true">#</a> XSS和CSRF攻击</h2><p>XSS：跨站脚本攻击，是一种代码注入攻击，攻击者通过在目标网站上注入恶意脚本，使之在用户浏览器上运行；根据攻击来源，分为<code>存储型</code>,<code>反射型</code>,<code>DOM型</code></p><ul><li><code>存储型</code>是将恶意代码提交到目标网站的数据库中，例如：发帖、评论、私信等；这种方式更隐蔽，因为不需要用户手动触发</li><li><code>反射型</code>是通过构造特殊的URL,并将其拼接到html中,其中包含恶意代码，如网站搜索、跳转等；因为需要用户打开URL才有效，所以一半都用多种手段诱导用户点击</li><li><code>DOM型</code>同样是通过特殊URL,前端通过JavaScript取出恶意代码并执行，恶意代码会获取用户数据并发送到指定网站或冒充用户行为<br><code>DOM型</code>是取出恶意代码并交由浏览器完成，属于前端JavaScript的安全漏洞，其它两种属于服务器端漏洞 通用XSS攻击防御： <ul><li>禁止加载外域代码</li><li>禁止外域提交</li><li>禁止未授权的脚本执行</li><li>对于不受信任的输入，限制合理的长度，可以增加攻击的难度</li><li>设置http-only禁止js读取敏感cookie</li><li>输入过滤</li><li>纯前端，通过ajax获取并渲染数据</li></ul></li></ul><p>CSRF跨站点请求伪造，是<code>攻击者盗用了用户的身份，以用户的名义发送恶意请求</code>是一种挟制用户在当前已登录的 Web 应用程序上执行非本意的操作的攻击方法；如诱导用户进入第三方网站并在第三方网站向用户发送跨站请求；利用用户的注册凭证，绕过后台用户验证;</p><ul><li>GET类型攻击；如<code>&lt;img src=&quot;http://bank.example/withdraw?amount=10000&amp;for=hacker&quot; &gt; </code>和<code>JSONP</code>，</li><li>POST类型攻击：如自动提交表单</li><li>连接类的攻击：如诱导用户点击a连接<br> 通用CRSRF攻击防御：</li><li>可以设置Get 请求不对数据进行修改和存储</li><li>不让第三方网站访问到用户 Cookie，或者不讲用户验证的token或sesstion放在cookie，而是放在localStorage</li><li>请求时附带验证信息，比如验证码</li><li>post表单请求，可在每个表单中包含一个 CSRF Token 或者通过将token放在cookie中</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>  // 方法一
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>POST<span class="token punctuation">&quot;</span></span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/upload?_csrf={{由服务端生成}}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">enctype</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>multipart/form-data<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    用户名: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    选择头像: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>提交<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token comment">// 方法二 axios也是这么防御的</span>
  <span class="token keyword">let</span> csrfToken <span class="token operator">=</span> Cookies<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;csrfToken&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">csrfSafeMethod</span><span class="token punctuation">(</span><span class="token parameter">method</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 以下HTTP方法不需要进行CSRF防护</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(GET|HEAD|OPTIONS|TRACE)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>method<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  $<span class="token punctuation">.</span><span class="token function">ajaxSetup</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">beforeSend</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">xhr<span class="token punctuation">,</span> settings</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">csrfSafeMethod</span><span class="token punctuation">(</span>settings<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>crossDomain<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">&#39;x-csrf-token&#39;</span><span class="token punctuation">,</span> csrfToken<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>使用Referer Header确定来源域名</li></ul><p>界面操作劫持攻击 通过在页面可见控件上覆盖一个不可见的框(iframe)，使得用户误以为自己在操作正确的页面，从而在用户不知情的情况下篡改数据、窃取信息等。<br><a href="https://tech.meituan.com/2018/09/27/fe-security.html" target="_blank" rel="noopener noreferrer">参考1<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>、<a href="https://www.cnblogs.com/hyddd/archive/2009/04/09/1432744.html" target="_blank" rel="noopener noreferrer">参考2<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="中间人-mitm-攻击" tabindex="-1"><a class="header-anchor" href="#中间人-mitm-攻击" aria-hidden="true">#</a> 中间人（MITM）攻击</h2><p>MITM攻击就是通过拦截正常的网络通信数据，并进行数据篡改和嗅探来达到攻击的目的，而通信的双方却毫不知情。<br> 防御：</p><ul><li>确保访问的是https的网站</li><li>不应在公共WI-FI上发送敏感数据</li><li>禁用了不安全的SSL/TLS协议</li><li>不要点击恶意链接或电子邮件</li></ul><h2 id="为什么埋点发送数据一般用1-1的gif图片" tabindex="-1"><a class="header-anchor" href="#为什么埋点发送数据一般用1-1的gif图片" aria-hidden="true">#</a> 为什么埋点发送数据一般用1*1的GIF图片</h2><ul><li>能够完成整个 HTTP 请求+响应（尽管不需要响应内容）</li><li>客户端不需要接受返回数据，服务器也不需要返回数据</li><li>没有跨域问题</li><li>执行过程无阻塞，不影响用户操作</li><li>相比 XMLHttpRequest 对象发送 GET 请求，性能上更好</li><li>GIF相对于其它格式的图片体积最小</li></ul><h2 id="get-post区别" tabindex="-1"><a class="header-anchor" href="#get-post区别" aria-hidden="true">#</a> GET&amp;POST区别</h2><p><img src="https://slbblog.oss-cn-beijing.aliyuncs.com/http/getandpost" alt="区别"></p><h2 id="为什么会有options请求" tabindex="-1"><a class="header-anchor" href="#为什么会有options请求" aria-hidden="true">#</a> 为什么会有options请求</h2><p>options是浏览器基于跨域安全的考虑发起的<code>预检请求</code>;浏览器将CORS请求分为两类：<code>简单请求（simple request）</code>和<code>非简单请求（not-simple-request）</code>;而只有在非简单请求的情况下才会发起预检；非简单请求的条件：</p><ul><li>请求方式不是是：GET、POST、HEAD</li><li>请求设置了自定义的 header 字段</li><li>Content-Type 并非 application/x-www-form-urlencoded, multipart/form-data, 或 text/plain</li></ul></div><!--[--><!--[--><ins class="adsbygoogle" style="display:block;text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-5929253442306992" data-ad-slot="4632953657"></ins><div class="money"><div class="pay">小红包免费领</div><div class="pay">小礼物走一走</div></div><!----><!--]--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 994917123@qq.com">slbyml</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: shaolibao@xiaomi.com">邵礼豹</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--[--><div class="ff"> 部分内容来源于网络，如有侵权，请留言或联系994917123@qq.com;访问量:<span id="busuanzi_value_site_pv">waiting</span>;访客数:<span id="busuanzi_value_site_uv">waiting</span></div><!--]--><!--]--></main><!--]--></div><div id="gift" style="width:250px;font-size:0;background:#ca3039;display:none;"><img src="https://slbblog.oss-cn-beijing.aliyuncs.com/getMoney.png" style="width:100%;"></div><div id="money" style="width:250px;font-size:0;overflow:hidden;text-align:center;display:none;"><p style="font-size:14px;line-height:1.4;">微信扫码</p><img src="https://slbblog.oss-cn-beijing.aliyuncs.com/wechat.jpg" style="width:100%;"></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.fded88d1.js" defer></script>
  </body>
</html>
